name: cave_escape_10_allts_p15m_p15l
dir_name: cave_escape_10_allts_p15m_p15l
source_dataset: minigrid_dense_graph_1M

size: null #AUTO

num_train_batches: null #AUTO
num_test_batches: null #AUTO
size_train_batch: 0
size_test_batch: 6
train_batch_ids: null #AUTO
test_batch_ids: ['test_batch_0',
                 'test_batch_5',
                 'test_batch_10',
                 'test_batch_15',
                 'test_batch_20',
                 'test_batch_25',
                 'test_batch_30',
                 'test_batch_35',
                 'test_batch_40',
                 'test_batch_45',
                 'test_batch_50',
                 'test_batch_55',
                 'test_batch_60',
                 'test_batch_65',
                 'test_batch_70',
                 'test_batch_75',
                 'test_batch_80',
                 'test_batch_85',
                 'test_batch_90',
                 'test_batch_95',
                 'test_batch_100',
                 'test_batch_105',]

resume_generation: false #If true, will resume generation from the last saved batch
generate_images: false #Set false for large datasets to save disk space and avoid OOM errors during generation
check_unique: true #Set true to check if generated layouts are unique across all batches
normalise_metrics: true

n_thumbnail_per_batch: 6
seeds_per_batch: null #Required for consistency between runs if splitting the batches
data_type: graph
encoding: dense
ensure_connected: true #make sure layouts have a single component
gridworld_data_dim: [3,15,15]
generating_algorithm: [wave_function_collapse]
task_type: cave_escape
#task_structure_split: #Assumed similar across train and test batches
#                     obstacles_blackdots : 0
#                     obstacles_hogs2 : 0
#                     obstacles_hogs3 : 1
#                     obstacles_angular : 0
#                     dungeon_mazescaled : 0
#                     maze_wall : 0
#                     maze_simple : 0
#                     rooms_fabric : 0
#                     dungeon_rooms : 0
#                     maze_knot : 0
#                     maze_paths : 0
#                     rooms_office : 0
#                     skew_2 : 0
#                     skew_cave : 0
#                     dungeon_spirals_neg : 0
#                     maze_like : 0
#                     maze_spirals : 0
#                     dungeon_lessrooms : 0
#                     rooms_magicoffice : 0
#                     dungeon_ : 0
#                     skew_lake : 0
#                     maze_ : 0
task_structure_split: #Assumed similar across train and test batches
                     obstacles_blackdots : 1
                     obstacles_hogs2 : 1
                     obstacles_hogs3 : 1
                     obstacles_angular : 1
                     dungeon_mazescaled : 1
                     maze_wall : 1
                     maze_simple : 1
                     rooms_fabric : 1
                     dungeon_rooms : 1
                     maze_knot : 1
                     maze_paths : 1
                     rooms_office : 1
                     skew_2 : 1
                     skew_cave : 1
                     dungeon_spirals_neg : 1
                     maze_like : 1
                     maze_spirals : 1
                     dungeon_lessrooms : 1
                     rooms_magicoffice : 1
                     dungeon_ : 1
                     skew_lake : 1
                     maze_ : 1
seed: 123456 #AUTO

label_descriptors:
  - task_structure # AUTO {maze, rooms_unstructured}
  - shortest_path
  - resistance
  - navigable_nodes
  - optimal_trajectories
  - generating_algorithm #{'prims', 'multiroom'}
  - seed
  - minigrid
  - images

label_descriptors_config:
  generating_algorithm: ${generating_algorithm}
  task_structures: [
                     dungeon_, #5.91
                     dungeon_lessrooms, #2.21
                     dungeon_rooms, #1.36
                     dungeon_spirals_neg, #2.16
                     dungeon_mazescaled, #0.22

                     maze_, #13.27
                     maze_knot, #1.16
                     maze_like, #2.38
                     maze_paths, #1.40
                     maze_spirals, #2.11
                     maze_wall, #0.11
                     maze_simple, #0.15

                     obstacles_blackdots, #0.10
                     obstacles_hogs2, #0.14
                     obstacles_hogs3, #0.48
                     obstacles_angular, #0.52
#                     obstacles_city,

                     rooms_fabric, #0.38
                     rooms_office, #1.67
                     rooms_magicoffice, #.3.13

                     skew_lake, #6.31
                     skew_2, #1.92
                     skew_cave, #1.59


  ]
  shortest_path:
    min: 0.0
    max: 1.0
    normalisation_factor: null #AUTO
  resistance:
    min: 0.0
    max: 1.0
    normalisation_factor: null #AUTO
  navigable_nodes:
    min: 0.0
    max: 1.0
    normalisation_factor: null #AUTO
  num_optimal_trajectories: 1
  use_seed: true

graph_feature_descriptors:
  - empty
  - wall
  - lava
  - moss
  - start
  - goal
  - navigable
  - non_navigable

# NAME: BETWEEN, STRUCTURE, WEIGHT)
graph_edge_descriptors:
  navigable:
    between: [navigable]
    structure: grid
    weight: null
  non_navigable:
    between: [non_navigable]
    structure: grid
    weight: null
  lava_goal:
    between: [lava, goal]
    structure: null
    weight: lava_prob
  moss_goal:
    between: [moss, goal]
    structure: null
    weight: moss_prob
  start_goal:
    between: [start, goal]
    structure: null
    weight: null

minigrid_feature_descriptors:
  - empty
  - wall
  - lava
  - moss
  - start
  - goal

# generation parameters

# lava
lava_distribution_params:
  score_metric: shortest_path
  distribution: power_rank #power_rank or power
  fraction: 0.15 #range if randomised
  temperature: 1 #range if randomised
  sampling_depth: 3
  nodes:
    - wall

moss_distribution_params:
  score_metric: shortest_path
  distribution: power_rank #power_rank or power
  fraction: 0.15 #range if randomised
  temperature: 1 #range if randomised
  nodes:
    - empty